# Mini CRM (Telegram Mini App) — Roadmap
# Mini CRM (Telegram Mini App) — Roadmap

## Goal
Сделать мини-CRM для ОДНОГО клиента: клиент в Telegram открывает предложение и листает объекты.
По каждому объекту: фото, параметры, описание, файлы/скрины, комментарии клиента (НЕ чат).
Админ: добавляет/редактирует объекты, фото, документы; видит комментарии и вложения; получает уведомления.

## Non-goals (запрещено)
- Нет статусов объектов.
- Нет чата/переписки внутри системы.
- Нет публичного сайта и маркетинговых страниц.
- Нет мультиклиентности.

## Phases

### Phase 0 — Bootstrap
- Каркас Next.js + TypeScript + App Router
- ENV шаблон
- Docker compose
- БД и миграции Prisma

### Phase 1 — Data model + API
- Таблицы: Property, PropertyPhoto, PropertyDoc, ClientComment, CommentAttachment
- CRUD API для админа
- API для клиента: list properties, get property, create comment + upload attachments

### Phase 2 — Telegram Bot
- /start
- Кнопка "Открыть предложение" открывает WebApp
- Уведомления админу: новый комментарий/вложение

### Phase 3 — Mini App (Client UI)
- Экран списка объектов
- Карточка объекта: галерея, параметры, описание, блок файлов
- Форма комментария: текст + скрепка (вложения поддерживаются)
- Список комментариев по объекту

### Phase 4 — Admin UI
- Экран списка объектов
- Форма добавления/редактирования объекта
- Загрузка фото/документов
- Просмотр комментариев + вложений
- Переключение видимости для клиента

### Phase 5 — Hardening
- Проверка Telegram user id
- Базовые логи и обработка ошибок
- Базовые лимиты размера upload
## Goal
Сделать мини-CRM для ОДНОГО клиента: клиент в Telegram открывает предложение и листает объекты.
По каждому объекту: фото (свайп), параметры, описание, файлы/скрины (обязательно), комментарии клиента (НЕ чат).
Админ: добавляет/редактирует объекты, фото, документы; видит комментарии и вложения; получает уведомления.

## Non-goals (запрещено)
- Нет статусов объектов (NEW/SHORTLIST/...) — НЕ делаем.
- Нет чата/переписки внутри системы — только комментарии клиента без ответов менеджера.
- Нет публичного сайта и маркетинговых страниц.
- Нет мультиклиентности (только один клиент).

## Phases

### Phase 0 — Bootstrap (скелет проекта)
- Репозиторий и структура
- ENV шаблон
- Docker compose (опционально)
- Поднять БД и миграции

### Phase 1 — Data model + API
- Таблицы: Property, PropertyPhoto, PropertyDoc, ClientComment, CommentAttachment
- CRUD API для админа: create/update/delete/list
- API для клиента: list properties, get property details, create comment + upload attachments

### Phase 2 — Telegram Bot
- /start
- Кнопка "Открыть предложение" -> открывает WebApp (Mini App) с параметрами
- Уведомления админу: новый комментарий/вложение

### Phase 3 — Mini App (Client UI)
- Экран списка объектов
- Карточка объекта: галерея, параметры, описание, блок файлов
- Форма комментария: текст + обязательная скрепка (вложения разрешены всегда)
- Список комментариев по объекту

### Phase 4 — Admin UI
- Экран списка объектов (админ)
- Форма добавления/редактирования объекта
- Загрузка фото (multi)
- Загрузка документов (multi)
- Просмотр комментариев + вложений
- “Скрыть для клиента”

### Phase 5 — Hardening
- Авторизация по Telegram user id (один клиент)
- Rate limits (минимально)
- Логи
- Бэкап/экспорт данных (опционально)